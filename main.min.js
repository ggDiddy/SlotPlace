
let mybutton = document.getElementById("myBtn");
window.onscroll = function() {scrollFunction()};
function scrollFunction() {
 if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
 mybutton.style.display = "block";
 } else {
 mybutton.style.display = "none";
 }
}
function topFunction() {
 document.body.scrollTop = 0; 
 document.documentElement.scrollTop = 0; 
}
function initCasinoSearch() {
 const searchInput = document.getElementById('casinoSearch');
 if (!searchInput) return;
 searchInput.addEventListener('input', function(e) {
 const searchTerm = e.target.value.toLowerCase();
 const casinoCards = document.querySelectorAll('.casino-card');
 casinoCards.forEach(card => {
 const casinoName = card.querySelector('h6')?.textContent.toLowerCase() || '';
 const bonusText = card.querySelector('.text-warning')?.textContent.toLowerCase() || '';
 const description = card.querySelector('.lead')?.textContent.toLowerCase() || '';
 if (casinoName.includes(searchTerm) || bonusText.includes(searchTerm) || description.includes(searchTerm)) {
 card.closest('.col-md-6').classList.remove('hidden');
 } else {
 card.closest('.col-md-6').classList.add('hidden');
 }
 });
 const visibleCards = document.querySelectorAll('.casino-card:not(.hidden)').length;
 let noResultsMsg = document.getElementById('noResultsMsg');
 if (visibleCards === 0) {
 if (!noResultsMsg) {
 noResultsMsg = document.createElement('div');
 noResultsMsg.id = 'noResultsMsg';
 noResultsMsg.className = 'col-12 text-center py-5';
 noResultsMsg.innerHTML = '<h3>No casinos found</h3><p class="text-muted">Try adjusting your search or filters</p>';
 document.querySelector('.casino-card').closest('.row').appendChild(noResultsMsg);
 }
 noResultsMsg.style.display = 'block';
 } else if (noResultsMsg) {
 noResultsMsg.style.display = 'none';
 }
 });
}
function initCasinoFilter() {
 const filterButtons = document.querySelectorAll('.filter-btn');
 if (filterButtons.length === 0) return;
 filterButtons.forEach(button => {
 button.addEventListener('click', function() {
 filterButtons.forEach(btn => btn.classList.remove('active'));
 this.classList.add('active');
 const filterType = this.getAttribute('data-filter');
 const casinoCards = document.querySelectorAll('.casino-card');
 if (filterType === 'all') {
 casinoCards.forEach(card => {
 card.closest('.col-md-6').classList.remove('hidden');
 });
 } else {
 casinoCards.forEach(card => {
 const bonusText = card.querySelector('.lead')?.textContent.toLowerCase() || '';
 const bonusValue = card.querySelector('.text-warning')?.textContent.toLowerCase() || '';
 let shouldShow = false;
 switch(filterType) {
 case 'no-deposit':
 shouldShow = bonusText.includes('no deposit') || bonusValue.includes('no deposit');
 break;
 case 'free-spins':
 shouldShow = bonusValue.includes('fs') || bonusValue.includes('free spins') || bonusValue.includes('spins');
 break;
 case 'welcome':
 shouldShow = bonusText.includes('welcome') || bonusText.includes('best bonus');
 break;
 case 'high-roller':
 const amounts = bonusValue.match(/[\d,]+/g);
 if (amounts) {
 shouldShow = amounts.some(amount => parseInt(amount.replace(/,/g, '')) >= 500);
 }
 break;
 }
 if (shouldShow) {
 card.closest('.col-md-6').classList.remove('hidden');
 } else {
 card.closest('.col-md-6').classList.add('hidden');
 }
 });
 }
 });
 });
}
function initLazyLoading() {
 if ('loading' in HTMLImageElement.prototype) {
 return;
 }
 const images = document.querySelectorAll('img[loading="lazy"]');
 const imageObserver = new IntersectionObserver((entries, observer) => {
 entries.forEach(entry => {
 if (entry.isIntersecting) {
 const img = entry.target;
 img.src = img.dataset.src || img.src;
 img.classList.add('loaded');
 imageObserver.unobserve(img);
 }
 });
 });
 images.forEach(img => imageObserver.observe(img));
}
function initSmoothScroll() {
 document.querySelectorAll('a[href^="#"]').forEach(anchor => {
 anchor.addEventListener('click', function (e) {
 const href = this.getAttribute('href');
 if (href === '#' || href === '#!') return;
 e.preventDefault();
 const target = document.querySelector(href);
 if (target) {
 target.scrollIntoView({
 behavior: 'smooth',
 block: 'start'
 });
 }
 });
 });
}
function initPerformanceMonitoring() {
 if ('PerformanceObserver' in window) {
 const observer = new PerformanceObserver((list) => {
 for (const entry of list.getEntries()) {
 if (entry.duration > 1000) {
 console.log(`Slow resource: ${entry.name} took ${entry.duration}ms`);
 }
 }
 });
 observer.observe({ entryTypes: ['resource', 'navigation'] });
 }
}
function initKeyboardNavigation() {
 const casinoCards = document.querySelectorAll('.casino-card');
 casinoCards.forEach((card, index) => {
 card.setAttribute('tabindex', '0');
 card.setAttribute('role', 'article');
 card.addEventListener('keypress', function(e) {
 if (e.key === 'Enter' || e.key === ' ') {
 const claimButton = this.querySelector('.btn.custom-color a');
 if (claimButton) {
 claimButton.click();
 }
 }
 });
 });
}
function initCookieConsent() {
 const cookieConsent = localStorage.getItem('cookieConsent');
 if (!cookieConsent) {
 const banner = document.createElement('div');
 banner.className = 'cookie-consent';
 banner.style.cssText = 'position:fixed;bottom:0;left:0;right:0;background:#333;color:#fff;padding:1rem;text-align:center;z-index:9999;';
 banner.innerHTML = `
 <p style="margin:0 0 0.5rem">We use cookies to improve your experience. By continuing, you agree to our cookie policy.
 <button onclick="acceptCookies()" style="margin-left:1rem;padding:0.5rem 1rem;background:#ff6f61;color:#fff;border:none;border-radius:5px;cursor:pointer;">Accept</button>
 </p>
 `;
 document.body.appendChild(banner);
 }
}
function acceptCookies() {
 localStorage.setItem('cookieConsent', 'true');
 const banner = document.querySelector('.cookie-consent');
 if (banner) {
 banner.remove();
 }
}
document.addEventListener('DOMContentLoaded', function() {
 initCasinoSearch();
 initCasinoFilter();
 initLazyLoading();
 initSmoothScroll();
 initKeyboardNavigation();
 initCookieConsent();
});
if ('serviceWorker' in navigator) {
 window.addEventListener('load', () => {
 });
}
